<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to abc4d • abc4d</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to abc4d">
<meta property="og:description" content="abc4d">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">abc4d</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/abc3d.html">Introduction to abc4d</a>
    </li>
    <li>
      <a href="../articles/tutorials.html">Tutorials</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="abc3d_files/header-attrs-2.6/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to abc4d</h1>
                        <h4 class="author">Valeria</h4>
            
            <h4 class="date">4/16/2021</h4>
      
      
      <div class="hidden name"><code>abc3d.Rmd</code></div>

    </div>

    
    
<div id="abc4d" class="section level2">
<h2 class="hasAnchor">
<a href="#abc4d" class="anchor"></a>abc4d</h2>
<p>The goal of abc4d is to aim researchers through the steps of data cleaning, pre-processing and analysis of whole-brain microscopy data (over time). To get started, you can install abc4d from github.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install devtools if not yet available</span>
<span class="co">#install.packages("devtools")</span>

<span class="co">#devtools::install_github("valeriabonapersona/abc4d")</span></code></pre></div>
<p>A copy of the abc4d cheatsheet can be found here (LINK). Of note, the data resources provided within the app are based on the Allen Brain Reference Atlas, and the use of the Clearmap software for cell annotation. These can be substituted by using the atlas of interest in the resource preparation step, see vignettes and tutorials for more details.</p>
</div>
<div id="from-annotated-cells-to-data-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#from-annotated-cells-to-data-analysis" class="anchor"></a>From annotated cells to data analysis</h2>
<p>After imaging your brains, you have probably used a software to transform images into machine-readable numbers. Examples of open softwares are ClearMap, brainrender and whole-brain. These softwares perform cell detection, alignment of the brain to an Atlas, and annotation of the detected cells. To prepare the data for analysis, the data needs to be cleaned (Step 1) and pre-processed (Step 2).</p>
<div id="step-1-data-cleaning" class="section level3">
<h3 class="hasAnchor">
<a href="#step-1-data-cleaning" class="anchor"></a>Step 1: data cleaning</h3>
<p>During data cleaning, artefacts are removed, brain areas are selected, damaged brain areas are removed and re-imputed. This step is necessary no matter what the analysis will be.</p>
<p>First, resources for data cleaning need to be prepared. These are:</p>
<ul>
<li>A list of the damaged areas</li>
<li>The tree structure of the categorized areas (see Tutorial (LINK))</li>
<li>The masks to correct for artifacts (provided as data(“halo_masks”) and data(“vent_mask”))</li>
</ul>
<p>For more information, see the vignette of clean_counts().</p>
<p>clean_counts() runs for each sample separately.</p>
<p>With clean_counts(), the cleaned xyz coordinates will be saved at the specified folder. clean_counts() is run for each sample independently. Next, we merge all samples in one dataframe.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># counts_cleaned &lt;- "path/to/cleaned/data/"</span>
<span class="co"># all_cells &lt;- samples_files_to_df(counts_cleaned)</span></code></pre></div>
<p>Now you have cleaned xyz coordinates in just one dataframe.</p>
</div>
<div id="step-2-preprocessing" class="section level3">
<h3 class="hasAnchor">
<a href="#step-2-preprocessing" class="anchor"></a>Step 2: preprocessing</h3>
<p>Pre-processing depends on which (region-based) analysis will be conducted. Here, we normalize to the size of the brain area, we transform and standardize the data to control for batch effects.</p>
<p>The functions:</p>
<ul>
<li>summarize_per_region() transforms xyz coordinates into a summary per region</li>
<li>normalize() normalizes the brain regions based on their size using the Ero et al. atlas</li>
<li>preprocess_per_region() performs box-cox transformation and z-score normalization to correct for batch effects.</li>
</ul>
<p>This figure summarizes which preprocessing step is required for which analysis.</p>
<p>Your data is now ready to be analyzed.</p>
</div>
</div>
<div id="analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#analysis" class="anchor"></a>Analysis</h2>
<p>Analysis can be performed at different levels of spatial resolution, from single-cell to networks. Here we provide functions for different analyses. Please see the cheatsheet (LINK) for a summary.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Valeria Bonapersona.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
